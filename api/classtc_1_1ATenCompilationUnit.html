<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Tensor Comprehensions: tc::ATenCompilationUnit Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tc-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tensor Comprehensions
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classtc_1_1ATenCompilationUnit.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classtc_1_1ATenCompilationUnit-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tc::ATenCompilationUnit Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="aten__compiler_8h_source.html">aten_compiler.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for tc::ATenCompilationUnit:</div>
<div class="dyncontent">
<div class="center"><img src="classtc_1_1ATenCompilationUnit__coll__graph.png" border="0" usemap="#tc_1_1ATenCompilationUnit_coll__map" alt="Collaboration graph"/></div>
<map name="tc_1_1ATenCompilationUnit_coll__map" id="tc_1_1ATenCompilationUnit_coll__map">
<area shape="rect" id="node3" href="classtc_1_1ExecutionEngine.html" title="tc::ExecutionEngine" alt="" coords="2453,604,2592,631"/><area shape="rect" id="node6" href="structtc_1_1ExecutionEngine_1_1ExecutorInfo.html" title="tc::ExecutionEngine\l::ExecutorInfo" alt="" coords="1597,486,1736,527"/><area shape="rect" id="node8" href="classtc_1_1MappingOptions.html" title="tc::MappingOptions" alt="" coords="377,67,511,93"/><area shape="rect" id="node9" href="classtc_1_1CudaDimView.html" title="tc::CudaDimView" alt="" coords="29,148,155,175"/><area shape="rect" id="node25" href="classtc_1_1CudaDim.html" title="tc::CudaDim" alt="" coords="396,168,492,195"/><area shape="rect" id="node10" href="classtc_1_1SchedulerOptionsView.html" title="tc::SchedulerOptionsView" alt="" coords="5,15,179,41"/><area shape="rect" id="node11" href="classtc_1_1TilingView.html" title="tc::TilingView" alt="" coords="41,65,143,92"/><area shape="rect" id="node12" title="STL class. " alt="" coords="404,511,484,537"/><area shape="rect" id="node22" href="structtc_1_1TcExecutor_1_1TcExecutionInfo.html" title="tc::TcExecutor::TcExecutionInfo" alt="" coords="1000,304,1211,331"/><area shape="rect" id="node13" title="STL class. " alt="" coords="29,503,155,545"/><area shape="rect" id="node15" title="STL class. " alt="" coords="374,227,514,253"/><area shape="rect" id="node17" href="classtc_1_1TcExecutor.html" title="tc::TcExecutor" alt="" coords="1406,544,1514,571"/><area shape="rect" id="node18" href="structtc2halide_1_1HalideComponents.html" title="tc2halide::HalideComponents" alt="" coords="1009,585,1202,612"/><area shape="rect" id="node24" href="classtc_1_1Grid.html" title="Specializing CudaDim to differentiate between Block and Grid sizes. " alt="" coords="686,117,751,144"/><area shape="rect" id="node27" href="classtc_1_1Block.html" title="Specializing CudaDim to differentiate between Block and Grid sizes. " alt="" coords="681,168,756,195"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3bc00ea9c475d5a63d4d6eded152c7da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtc_1_1ATenCompilationUnit.html#a3bc00ea9c475d5a63d4d6eded152c7da">ATenCompilationUnit</a> ()</td></tr>
<tr class="separator:a3bc00ea9c475d5a63d4d6eded152c7da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a943a630bec739720fc77c51a68c0b2fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtc_1_1ATenCompilationUnit.html#a943a630bec739720fc77c51a68c0b2fa">define</a> (const std::string &amp;language)</td></tr>
<tr class="separator:a943a630bec739720fc77c51a68c0b2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cee1140ab87b6a781993b2e73a1779e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtc_1_1ATenCompilationUnit.html#a7cee1140ab87b6a781993b2e73a1779e">compile</a> (const std::string &amp;name, const std::vector&lt; at::Tensor &gt; &amp;inputs, const <a class="el" href="classtc_1_1MappingOptions.html">MappingOptions</a> &amp;options)</td></tr>
<tr class="memdesc:a7cee1140ab87b6a781993b2e73a1779e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a TC name, compile the TC.  <a href="#a7cee1140ab87b6a781993b2e73a1779e">More...</a><br/></td></tr>
<tr class="separator:a7cee1140ab87b6a781993b2e73a1779e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9cfd9dd91a79b890fb91ba6c0c64f9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const DLTensor * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtc_1_1ATenCompilationUnit.html#a5e9cfd9dd91a79b890fb91ba6c0c64f9">inferOutputTensorInfo</a> (const std::string &amp;name, const std::vector&lt; at::Tensor &gt; &amp;inputs)</td></tr>
<tr class="memdesc:a5e9cfd9dd91a79b890fb91ba6c0c64f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the output Tensor info.  <a href="#a5e9cfd9dd91a79b890fb91ba6c0c64f9">More...</a><br/></td></tr>
<tr class="separator:a5e9cfd9dd91a79b890fb91ba6c0c64f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a9e569a4549c845b17485e9df22b4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetc.html#a4bfc10cdfff4f176b490a2c49fc7ed07">Duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtc_1_1ATenCompilationUnit.html#a04a9e569a4549c845b17485e9df22b4f">run</a> (const std::string &amp;name, const std::vector&lt; at::Tensor &gt; &amp;inputs, std::vector&lt; at::Tensor &gt; &amp;outputs, size_t handle, bool profile=false)</td></tr>
<tr class="separator:a04a9e569a4549c845b17485e9df22b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ccc1b7804e892bbe54c4692848c9fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtc_1_1ATenCompilationUnit.html#ad4ccc1b7804e892bbe54c4692848c9fa">uncheckedRun</a> (const std::vector&lt; at::Tensor &gt; &amp;inputs, std::vector&lt; at::Tensor &gt; &amp;outputs, size_t handle)</td></tr>
<tr class="separator:ad4ccc1b7804e892bbe54c4692848c9fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8283dda9308a96f75c40ee5f68e17fe6"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classtc_1_1ExecutionEngine.html">ExecutionEngine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtc_1_1ATenCompilationUnit.html#a8283dda9308a96f75c40ee5f68e17fe6">executionEngine_</a></td></tr>
<tr class="separator:a8283dda9308a96f75c40ee5f68e17fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This provides the basic interface for writing ATen style tensor operations based on Tensor Comprehensions. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3bc00ea9c475d5a63d4d6eded152c7da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tc::ATenCompilationUnit::ATenCompilationUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7cee1140ab87b6a781993b2e73a1779e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tc::ATenCompilationUnit::compile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; at::Tensor &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtc_1_1MappingOptions.html">MappingOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a TC name, compile the TC. </p>

</div>
</div>
<a class="anchor" id="a943a630bec739720fc77c51a68c0b2fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tc::ATenCompilationUnit::define </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>language</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define a database from input TC language where language can have many tc strings. This database is used to run any TC just by its name by passing it to the run function. </p>

</div>
</div>
<a class="anchor" id="a5e9cfd9dd91a79b890fb91ba6c0c64f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;const DLTensor*&gt; tc::ATenCompilationUnit::inferOutputTensorInfo </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; at::Tensor &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the output Tensor info. </p>

</div>
</div>
<a class="anchor" id="a04a9e569a4549c845b17485e9df22b4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetc.html#a4bfc10cdfff4f176b490a2c49fc7ed07">Duration</a> tc::ATenCompilationUnit::run </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; at::Tensor &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; at::Tensor &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>profile</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a TC name, run the TC and fill the outputs vector the results if profile is set it returns the runtime in nanoseconds. Compilation must have already occured. </p>

</div>
</div>
<a class="anchor" id="ad4ccc1b7804e892bbe54c4692848c9fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tc::ATenCompilationUnit::uncheckedRun </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; at::Tensor &gt; &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; at::Tensor &gt; &amp;&#160;</td>
          <td class="paramname"><em>outputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the "low-latency" mode in which we just propagate ATen tensors Sizes are not checked and it is the user's responsibility to ensure that they match. If the user doesn't then segfault will likely occur. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8283dda9308a96f75c40ee5f68e17fe6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classtc_1_1ExecutionEngine.html">ExecutionEngine</a>&gt; tc::ATenCompilationUnit::executionEngine_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/tc/aten/<a class="el" href="aten__compiler_8h_source.html">aten_compiler.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetc.html">tc</a></li><li class="navelem"><a class="el" href="classtc_1_1ATenCompilationUnit.html">ATenCompilationUnit</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
